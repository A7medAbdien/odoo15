<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record model="ir.ui.view" id="view_hospital_appointment_tree">
    <field name="name">hospital appointment</field>
    <field name="model">hospital.appointment</field>
    <field name="arch" type="xml">
      <tree decoration-success="state =='done'" decoration-info="state =='draft'" decoration-danger="state=='in_consultation'">
        <field name="patient_id" />
        <field name="appointment_time" optional="show" />
        <field name="ref" optional="hide" />
        <field name='priority' widget='priority' optional="hide" />
        <field name="doctor_id" widget='many2one_avatar_user' optional='show' />
        <field name="activity_ids" widget="list_activity" />
        <field name="state" widget='badge' decoration-success="state == 'done'" decoration-info="state =='draft'" decoration-danger="state=='in_consultation'" />
      </tree>
    </field>
  </record>


  <record model="ir.ui.view" id="view_hospital_appointment_form">
    <field name="name">hospital appointment</field>
    <field name="model">hospital.appointment</field>
    <field name="arch" type="xml">
      <form>
        <header>
          <field name="state" widget="statusbar" statusbar_visible="draft,in_consultation,done" options="{'clickable': '1'}" nolable='1' />
        </header>
        <sheet>
          <div>
            <h3>
              <field name='priority' widget='priority' />
            </h3>
          </div>
          <group>
            <group>
              <field name="patient_id" />
              <field name="gender" />
              <field name="booking_date" />
            </group>
            <group>
              <field name="appointment_time" />
              <field name="ref" />
              <field name="doctor_id" widget='many2one_avatar' />
              <button name="action_test" string="Object Button" type="object" class="oe_highlight" confirm='confirm massage' />
              <button name="%(hospital.action_hospital_patient)d" string="Action Button" type="action" class="oe_highlight" help='this will redirect u to patient' />

            </group>
          </group>
        </sheet>

        <div class="oe_chatter">
          <field name="message_follower_ids" widget="mail_followers" />
          <field name="activity_ids" widget="mail_activity" />
          <field name="message_ids" widget="mail_thread" />
        </div>

      </form>
    </field>
  </record>


  <record id="action_hospital_appointment" model="ir.actions.act_window">
    <field name="name">Appointments</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">hospital.appointment</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{}</field>
    <field name="help" type='html'>
      <p class='o_view_nocontent_smiling_face'>
            Create your first appointment!
      </p>
    </field>
  </record>

  <menuitem id="menu_appointment_details" name="Appointments" action="action_hospital_appointment" parent="menu_appointment_main" />
</odoo>